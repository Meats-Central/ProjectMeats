{
  "project": "ProjectMeats",
  "version": "3.0",
  "description": "Single Source of Truth for Environment Variables and Secret Mapping",
  "environments": {
    "dev-backend": {
      "type": "backend",
      "prefix": "DEV",
      "django_settings": "projectmeats.settings.development"
    },
    "dev-frontend": {
      "type": "frontend",
      "prefix": "DEV",
      "url": "https://dev.meatscentral.com"
    },
    "uat2-backend": {
      "type": "backend",
      "prefix": "UAT",
      "django_settings": "projectmeats.settings.staging"
    },
    "uat2-frontend": {
      "type": "frontend",
      "prefix": "UAT",
      "url": "https://uat.meatscentral.com"
    },
    "prod2-backend": {
      "type": "backend",
      "prefix": "PROD",
      "django_settings": "projectmeats.settings.production"
    },
    "prod2-frontend": {
      "type": "frontend",
      "prefix": "PROD",
      "url": "https://meatscentral.com"
    }
  },
  "variables": {
    "infrastructure": {
      "BASTION_HOST": {
        "description": "Droplet IP",
        "ci_secret_mapping": {
          "dev-backend": "DEV_HOST",
          "uat2-backend": "UAT_HOST",
          "prod2-backend": "PROD_HOST"
        }
      },
      "BASTION_USER": {
        "description": "SSH Username",
        "ci_secret_mapping": {
          "dev-backend": "DEV_USER",
          "uat2-backend": "UAT_USER",
          "prod2-backend": "PROD_USER"
        }
      },
      "BASTION_SSH_PASSWORD": {
        "description": "SSH Password (Legacy Shared Secret for UAT/Prod)",
        "ci_secret_mapping": {
          "dev-backend": "DEV_SSH_PASSWORD",
          "uat2-backend": "SSH_PASSWORD",
          "prod2-backend": "SSH_PASSWORD"
        }
      },
      "DB_HOST": {
        "ci_secret_pattern": "{PREFIX}_DB_HOST",
        "description": "Private Database Hostname"
      },
      "DB_PORT": {
        "ci_secret_pattern": "{PREFIX}_DB_PORT",
        "description": "Database Port (default: 5432)"
      },
      "DB_USER": {
        "ci_secret_pattern": "{PREFIX}_DB_USER",
        "description": "Database Username"
      },
      "DB_PASSWORD": {
        "ci_secret_pattern": "{PREFIX}_DB_PASSWORD",
        "description": "Database Password"
      },
      "DB_NAME": {
        "ci_secret_pattern": "{PREFIX}_DB_NAME",
        "description": "Database Name"
      }
    },
    "application": {
      "DATABASE_URL": {
        "description": "DB Connection String",
        "ci_secret_mapping": {
          "dev-backend": "DEV_DATABASE_URL",
          "uat2-backend": "UAT_DATABASE_URL",
          "prod2-backend": "PROD_DATABASE_URL"
        }
      },
      "SECRET_KEY": {
        "ci_secret_pattern": "{PREFIX}_SECRET_KEY",
        "required": true
      },
      "DJANGO_SETTINGS_MODULE": {
        "description": "Settings path (Injected via env var, mapped from manifest)",
        "value_source": "environment_config"
      }
    },
    "frontend_runtime": {
      "REACT_APP_API_BASE_URL": {
        "description": "API Endpoint for Frontend",
        "values": {
          "dev-frontend": "https://dev.meatscentral.com/api/v1",
          "uat2-frontend": "https://uat.meatscentral.com/api/v1",
          "prod2-frontend": "https://meatscentral.com/api/v1"
        }
      },
      "REACT_APP_ENVIRONMENT": {
        "description": "App Mode",
        "values": {
          "dev-frontend": "development",
          "uat2-frontend": "staging",
          "prod2-frontend": "production"
        }
      },
      "REACT_APP_AI_ASSISTANT_ENABLED": {
        "description": "Feature Flag for AI Assistant",
        "default": "true"
      }
    }
  }
}
