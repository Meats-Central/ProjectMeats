{
  "project": "ProjectMeats",
  "version": "3.2",
  "description": "Source of Truth - Fixed Scopes and Mappings",
  "environments": {
    "dev-backend": { "type": "backend", "prefix": "DEV", "django_settings": "projectmeats.settings.development" },
    "dev-frontend": { "type": "frontend", "prefix": "DEV", "url": "https://dev.meatscentral.com" },
    "uat2-backend": { "type": "backend", "prefix": "UAT", "django_settings": "projectmeats.settings.staging" },
    "uat2-frontend": { "type": "frontend", "prefix": "UAT", "url": "https://uat.meatscentral.com" },
    "prod2-backend": { "type": "backend", "prefix": "PROD", "django_settings": "projectmeats.settings.production" },
    "prod2-frontend": { "type": "frontend", "prefix": "PROD", "url": "https://meatscentral.com" }
  },
  "variables": {
    "infrastructure": {
      "BASTION_HOST": { 
        "description": "Droplet IP",
        "ci_secret_mapping": {
          "dev-backend": "DEV_HOST",
          "dev-frontend": "DEV_HOST",
          "uat2-backend": "UAT_HOST",
          "uat2-frontend": "UAT_HOST",
          "prod2-backend": "PROD_HOST",
          "prod2-frontend": "PROD_HOST"
        }
      },
      "BASTION_USER": { 
        "description": "SSH Username",
        "ci_secret_mapping": {
          "dev-backend": "DEV_USER",
          "dev-frontend": "DEV_USER",
          "uat2-backend": "UAT_USER",
          "uat2-frontend": "UAT_USER",
          "prod2-backend": "PROD_USER",
          "prod2-frontend": "PROD_USER"
        }
      },
      "BASTION_SSH_PASSWORD": { 
        "description": "SSH Password",
        "ci_secret_mapping": {
          "dev-backend": "DEV_SSH_PASSWORD",
          "dev-frontend": "DEV_SSH_PASSWORD",
          "uat2-backend": "SSH_PASSWORD", 
          "uat2-frontend": "SSH_PASSWORD",
          "prod2-backend": "SSH_PASSWORD",
          "prod2-frontend": "SSH_PASSWORD"
        }
      }
    },
    "application": {
      "DB_HOST": { "ci_secret_pattern": "{PREFIX}_DB_HOST", "description": "DB Hostname" },
      "DB_PORT": { "ci_secret_pattern": "{PREFIX}_DB_PORT", "default": "5432" },
      "DB_USER": { "ci_secret_pattern": "{PREFIX}_DB_USER", "description": "DB Username" },
      "DB_PASSWORD": { "ci_secret_pattern": "{PREFIX}_DB_PASSWORD", "description": "DB Password" },
      "DB_NAME": { "ci_secret_pattern": "{PREFIX}_DB_NAME", "description": "DB Name" },
      "DATABASE_URL": { 
        "ci_secret_mapping": {
            "dev-backend": "DEV_DATABASE_URL",
            "uat2-backend": "UAT_DATABASE_URL",
            "prod2-backend": "PROD_DATABASE_URL"
        }
      },
      "SECRET_KEY": { "ci_secret_pattern": "{PREFIX}_SECRET_KEY", "required": true },
      "DJANGO_SETTINGS_MODULE": { "value_source": "environment_config" }
    },
    "frontend_runtime": {
      "REACT_APP_API_BASE_URL": { "ci_secret_pattern": "REACT_APP_API_BASE_URL" },
      "REACT_APP_ENVIRONMENT": { "ci_secret_pattern": "REACT_APP_ENVIRONMENT" },
      "REACT_APP_AI_ASSISTANT_ENABLED": { "ci_secret_pattern": "REACT_APP_AI_ASSISTANT_ENABLED" }
    }
  }
}
