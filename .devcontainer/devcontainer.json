
// {
//   "name": "ProjectMeats Dev Codespace",

//   "build": {
//     "dockerfile": "Dockerfile.dev",
//     "context": ".."
//   },

//   "workspaceFolder": "/workspaces/ProjectMeats",
//   "remoteUser": "vscode",

//   "forwardPorts": [8000, 3000],

//   "remoteEnv": {
//     "DJANGO_SETTINGS_MODULE": "${localEnv:DEV_DJANGO_SETTINGS_MODULE}",
//     "SECRET_KEY": "${localEnv:DEV_SECRET_KEY}",
//     "CORS_ALLOWED_ORIGINS": "${localEnv:DEV_CORS_ALLOWED_ORIGINS}",
//     "DATABASE_URL":"postgres://postgres:postgres@postgres:5432/projectmeats_dev",
//     "ALLOWED_HOSTS": "${localEnv:DEV_ALLOWED_HOSTS}",
//     "LOG_LEVEL": "${localEnv:LOG_LEVEL}",
//     "DB_ENGINE": "${localEnv:DEV_DB_ENGINE}",
//     "DB_NAME": "projectmeats_dev",
//     "DB_USER": "postgres",
//     "DB_PASSWORD": "postgres",
//     "DB_HOST": "postgres",
//     "DB_PORT": "5432",
//     "CORS_ALLOW_ALL_ORIGINS": "${localEnv:CORS_ALLOW_ALL_ORIGINS}",
//     "SESSION_COOKIE_SECURE": "${localEnv:SESSION_COOKIE_SECURE}",
//     "CSRF_COOKIE_SECURE": "${localEnv:CSRF_COOKIE_SECURE}",
//     "OPENAI_API_KEY": "${localEnv:DEV_OPENAI_API_KEY}",
//     "EMAIL_BACKEND": "${localEnv:DEV_EMAIL_BACKEND}",
//     "EMAIL_HOST": "${localEnv:DEV_EMAIL_HOST}",
//     "EMAIL_PORT": "${localEnv:DEV_EMAIL_PORT}",
//     "EMAIL_USE_TLS": "${localEnv:DEV_EMAIL_USE_TLS}",
//     "EMAIL_HOST_USER": "${localEnv:DEV_EMAIL_HOST_USER}",
//     "EMAIL_HOST_PASSWORD": "${localEnv:DEV_EMAIL_HOST_PASSWORD}"
//   },

//   "settings": {
//     "terminal.integrated.shell.linux": "/bin/bash",
//     "editor.formatOnSave": true,
//     "python.defaultInterpreterPath": "/venv/bin/python"
//   },

//   "customizations": {
//     "vscode": {
//       "extensions": [
//         "github.copilot",
//         "ms-azuretools.vscode-docker",
//         "ms-python.python",
//         "dbaeumer.vscode-eslint"
//       ]
//     }
//   },

//   "features": {
//     "ghcr.io/devcontainers/features/common-utils:2": {}
//   },

//   "postCreateCommand": "cd /workspaces/ProjectMeats/frontend && npm ci && cd ../backend && python manage.py migrate && python manage.py runserver 0.0.0.0:8000"
// }

//divide----------------------------------------------------

{
  "name": "ProjectMeats Dev Codespace",

  // Use Docker Compose to define services (app and db)
  "dockerComposeFile": "docker-compose.yml",
  // 'app' is the name of the service that we will attach VS Code to
  "service": "app", 
  "workspaceFolder": "/workspaces/ProjectMeats",

  "remoteUser": "root",

  // Forward the necessary ports to your local machine
  "forwardPorts":[8000, 3000, 5432],

  // Set environment variables for your application (DB_HOST points to the 'db' service name)
  "remoteEnv": {
    "DB_HOST": "db", 
    "DB_NAME": "projectmeats_dev",
    "DB_PASSWORD": "postgres",
    "DB_PORT": "5432",
    "DB_USER": "postgres"
  },

  // VS Code settings
  "settings": {
    "terminal.integrated.shell.linux": "/bin/bash",
    "editor.formatOnSave": true,
    "python.defaultInterpreterPath": "/venv/bin/python"
  },

  // Install recommended extensions automatically
  "customizations": {
    "vscode": {
      "extensions": [
        "github.copilot",
        "ms-azuretools.vscode-docker",
        "ms-python.python",
        "dbaeumer.vscode-eslint"
      ]
    }
  },

  // Commands to run after the container is created and ready
  "postCreateCommand": "cd /workspaces/ProjectMeats/frontend && npm ci && cd ../backend && /venv/bin/python manage.py migrate"
}


