# ProjectMeats3 - User Deployment Guide
## ðŸš€ Simple Step-by-Step Digital Ocean Deployment

This guide gets your ProjectMeats3 application running on Digital Ocean App Platform in under 30 minutes.

## Prerequisites Checklist âœ…
- [ ] Digital Ocean account with billing enabled
- [ ] GitHub account access to Meats-Central/ProjectMeats3
- [ ] Domain name (optional - Digital Ocean provides one)
- [ ] 30 minutes of time

---

## ðŸŽ¯ Quick Start Checklist

### Step 1: Digital Ocean Setup (5 minutes)
- [ ] **Create Digital Ocean Account**: Visit https://cloud.digitalocean.com/
- [ ] **Generate API Token**: 
  - Go to API â†’ Personal Access Tokens
  - Create new token with read/write permissions
  - Copy token (you'll need this for GitHub)

### Step 2: Environment Configuration (10 minutes)
- [ ] **Set Up Production Environment**:
  ```bash
  # Clone the repository locally (if not already done)
  git clone https://github.com/Meats-Central/ProjectMeats3.git
  cd ProjectMeats3
  
  # Set up production environment
  python config/manage_env.py setup production
  
  # Generate secure secrets
  python config/manage_env.py generate-secrets
  ```
- [ ] **Copy the generated secrets** - you'll need them for Digital Ocean

### Step 3: GitHub Repository Setup (5 minutes)
- [ ] **Add Digital Ocean Token to GitHub**:
  - Go to your GitHub repository â†’ Settings â†’ Secrets and Variables â†’ Actions
  - Add new secret: `DIGITALOCEAN_ACCESS_TOKEN` = your_digital_ocean_api_token

### Step 4: Digital Ocean App Creation (10 minutes)
- [ ] **Create New App in Digital Ocean**:
  - Go to Digital Ocean Dashboard â†’ Apps â†’ Create App
  - Connect GitHub repository: `Meats-Central/ProjectMeats3`
  - Upload the `app.yaml` file from repository root
  - Configure environment variables (see section below)
  - Click Deploy

#### Required Environment Variables:
Add these in the Digital Ocean App settings:

**Backend Service (api)**:
```
SECRET_KEY=your-generated-production-secret-key
ADMIN_URL=admin/  (or your custom secure path)
EMAIL_HOST=smtp.gmail.com  (optional)
EMAIL_HOST_USER=your-email@gmail.com  (optional)
EMAIL_HOST_PASSWORD=your-app-password  (optional)
```

**Frontend Service (web)**:
No manual configuration needed - automatically set by app.yaml

### Step 5: Post-Deployment Verification (5 minutes)
- [ ] **Wait for Deployment**: Monitor in Digital Ocean dashboard (~5-10 minutes)
- [ ] **Create Admin User**: 
  - Go to Digital Ocean â†’ Your App â†’ api service â†’ Console
  - Run: `python manage.py createsuperuser`
- [ ] **Test Application**:
  - Visit your app URL (provided by Digital Ocean)
  - Test health check: `https://your-app.ondigitalocean.app/api/v1/health/`
  - Test admin access: `https://your-app.ondigitalocean.app/admin/`
  - Test frontend: `https://your-app.ondigitalocean.app/`

---

## âœ… Success! Your App is Live

ðŸŽ‰ **You're done!** Your ProjectMeats3 application is now running on Digital Ocean.

**Your URLs:**
- **Frontend**: https://your-app.ondigitalocean.app/
- **API**: https://your-app.ondigitalocean.app/api/v1/
- **Admin**: https://your-app.ondigitalocean.app/admin/

---

## ðŸ”§ Optional: Nice-to-Have Features

These features enhance your deployment but are not required for basic functionality:

### Custom Domain Setup
- [ ] **Add Custom Domain**: In Digital Ocean App settings â†’ Domains
- [ ] **Update DNS Records**: Point your domain to Digital Ocean
- [ ] **SSL Certificate**: Auto-generated by Digital Ocean

### Enhanced Email Configuration
- [ ] **Gmail App Password**: Create app-specific password for Gmail
- [ ] **AWS SES**: Set up professional email service
- [ ] **Email Templates**: Customize notification emails

### Monitoring & Alerts
- [ ] **Uptime Monitoring**: Set up Digital Ocean monitoring alerts
- [ ] **Log Management**: Configure log retention and alerts
- [ ] **Performance Monitoring**: Add APM tools (optional)

### Security Enhancements
- [ ] **Custom Admin URL**: Change from `/admin/` to something secure
- [ ] **Rate Limiting**: Configure API rate limits
- [ ] **Backup Strategy**: Set up automated database backups

### Development Workflow
- [ ] **Staging Environment**: Create staging app for testing
- [ ] **Branch Protection**: Set up GitHub branch protection rules
- [ ] **Code Quality**: Enable automated code quality checks

---

## ðŸš¨ Troubleshooting

**App Spec Upload Failed?**
1. **"unknown field 'certificate_id'" error**: Use the latest `app.yaml` from the repository (recently fixed)
2. **Parsing errors**: Ensure you're uploading the `app.yaml` file from the repository root
3. **Validation failed**: Check that your Digital Ocean CLI is up to date

**Build Failed?**
1. Check build logs in Digital Ocean App dashboard
2. Verify all environment variables are set
3. Ensure repository has latest changes

**App Won't Start?**
1. Check runtime logs in Digital Ocean
2. Verify database connection
3. Test health endpoint: `/api/v1/health/`

**Frontend Not Loading?**
1. Verify backend is running first
2. Check CORS settings in environment variables
3. Clear browser cache

**Need Help?**
1. Check detailed logs in Digital Ocean dashboard
2. Review environment configuration: `python config/manage_env.py validate`
3. Create issue in GitHub repository

---

## ðŸ’° Cost Estimate
- **Basic App**: $5-12/month (suitable for development and light usage)
- **Managed Database**: $15/month (PostgreSQL with backups)
- **Total**: ~$20-27/month

---

**That's it!** Your ProjectMeats3 application is deployed and ready for production use. The entire process should take about 30 minutes from start to finish.